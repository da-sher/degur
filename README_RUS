Degur - программа для работы с графиком дежурств.

Она предназначена прежде всего для расчета часов/дней
работы дежурного/сменного персонала.
Она предоставляет возможность:
- просмотра графиков за долгие-долгие годы (сколько занесете)
- формирование месячной и поквартальной статистики для
  учета отработанного времени, ночных часов, праздничных часов,
  времени переработки
- ведение данных по графику (что запланированно) и по факту
  (то что пойдет в табель)

Чего она не предоставляет
- такой же удобной модицикации данных как в электронной таблице
  (издержки бесплатной разработки при недостатке времени)
  весь ввод данных - в текстовом файле
- производственного календаря на будущее
  (какие в месяце праздники, какие короткие дни, какой в месяце первый
  день недели - вводится в текстовом файле)
- юридической поддержки
  -- в примере присутствуют месяца (например июнь 2012) с графиком
  работы который явно противоречит нормам действующего законодательства
  (по крайней мере РФ) - программа не отследит все ньансы (междусменный
  интервал, максимальное время переработки и т.д.) - следите за этим,
  пожалуйста, сами, тем более что нормы могут меняться.

Итак, вкратце:


Файл конфигурации degur.yaml с примером прилагается.

Файл оформлен в человекочитаемом формате yaml.
Редактировать его можно в любом текстовом редакторе,
сохраняя разметку. Подробности о разметке yaml.org.
Кратко о разметке - не нарушайте отступы, не беспокойте
кавычки.

Конфигурация разбита по годам и месяцам.
Пераметр degurs - перечисляет персонал, работавший
соответственно в этот год и в этот месяц.

На каждый месяц задаются параметры согласно производственного календаря:
offset - какой день недели приходится на начало месяца  (0 - воскресенье)
days - количество дней в месяце
holydays - праздничные дни
shortdays - сокращенные дни
restdays - выходные, возникшие от переносов суббот и воскресений, упавших
           на праздник
workdays - рабочие дни образовавшиеся в воскресенье

Далее, секция degur, состоит из подсекций, относящихся к планированию
(графику) "план" и фактической работе (табелю) "табель". Именно эти две
секции учитываются при автоматической обработке. Вы можете ввести
дополнительные секции под своими названиями, но расчет по ним проводиться
не будет.

Далее, пофамильная (посменная) загрузка:
структуры
'*ДН---ООООООО-ДН----ДН----ДН-ДН-'
'Н--ДН--ДН--ДН---ДН---ДН--ДН----*'
- должны быть длиной (дней в месяце + 1)
- первый символ показывает особенности последнего дня предыдущего
  месяца "Н" или "N" - ночная смена, часы от которой заползают в этот месяц,
  "*" - все остальное.
- последний символ "-" ставится после ночной смены, когда по законодательству
  должен быть обеспечен отдых, "*" - все остальное, работа разрешена
- "-" - выходной, "8" - 8-часовой день (поддерживаются "1" - "9") ,
  "Д" - 12-часовая дневная смена, "Н" - 12-часовая ночная смена,
  "D" - 13-часовая дневная смена, "N" - 11-часовая ночная смена,
  "О" - оплачиваемый отпуск по графику, "Б" - больничный, "У" - уволен,
  "j" и "J" - неоплачиваемые отпуска не по графику,

Работа программы
<F1> - Помошь
Таблицы статистики (все наглядно):
  <Control-F3> - поквартальная статистика по плану
  <Shift-F3> - поквартальная статистика по табелю
  <Control-F4> - статистика по плану
  <Shift-F4> - статистика по табелю
  <F3> - поквартальная статистика (авто)
  <F4> - статистика (авто)
  <F7> - отпуска (авто)
  <F8> - statistic_xx (авто)
  <F9> - переработка (авто)
  <Control-F8> - statistic_xx план
  отслеживание переработок, справедливости распределения ночных, праздничных...
Табель:
  <F5> - табель
  - Формируется по подсекции "табель", но... если ее нет, формируется по секции
    "план"
  - стобец "s" - количество отработанных дней(смен)/часов в первой половине месяца
    и во второй
  - столбец "сум" - отработаных дней(смен)/часов за весь месяц
  - столбец "ноч" - отработаных ночных смен/часов месяц
  - столбец "пр"  - отработаных праздничных смен/часов месяц
  - столбец "доп" - если учетный период - месяц, то это переработка (доп часы) +
    часы по приказу
Отпуска:
  <F7> - отпуска (авто)

Для работы требуется:
* Python3
* PyYAML

Поскольку основной, нужный мне функционал программы я в ней реализовал,
не стоит расчитывать что я просто возьму и вдруг добавлю в нее какие-либо
возможности через какое то время. Однако, вы можете связаться со мной
и попросить меня что-то сделать.

По условиям использования:
Copyright (c) 2013-2015 Shershakov D. (Шершаков Д.)
Вы можете использовать ее на свой страх и риск под лицензией GNU GPL v.3.
Аутентичный текст лицензии на английском языке и максимально точный
ее перевод на русский язык (rusgpl.txt) прилагаются. Все другие варианты
использования должны быть согласованы с автором.
